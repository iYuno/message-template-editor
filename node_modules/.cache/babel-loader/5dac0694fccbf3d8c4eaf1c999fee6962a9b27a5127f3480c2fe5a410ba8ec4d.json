{"ast":null,"code":"var _jsxFileName = \"/Users/romanloginov/Documents/GitHub/message-template-editor/src/components/previewModal/index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useMemo, useState } from \"react\";\nimport s from './previewModal.module.css';\nimport { arrVars } from \"../../utils/consts\";\nimport { v4 as uuid4 } from \"uuid\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport { CurrentInputContext } from \"../../contexts/currentInputContext\";\nimport { ConditionContext } from \"../../contexts/conditionContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nlet debounceTimer;\nconst PreviewModal = ({\n  modalHandler\n}) => {\n  _s();\n  const [varNames, setVarNames] = useState({\n    firstname: null,\n    company: null,\n    lastname: null,\n    position: null\n  });\n  const [data, setData] = useContext(ConditionContext);\n  const [currentInput, setCurrentInput] = useContext(CurrentInputContext);\n  const [messagePreview, setMessagePreview] = useState('');\n  const varsHandler = (event, value) => {\n    const newText = event.target.value;\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(() => {\n      setVarNames(prevState => ({\n        ...prevState,\n        [value]: newText.trim()\n      }));\n    }, 250);\n  };\n  const messageHandler = condition => {\n    const match = condition.if.trim().match(/\\{(.*?)\\}/);\n    if (match && match[1] && varNames[match[1]]) {\n      switch (typeof condition.then) {\n        case 'string':\n          setMessagePreview(prevState => prevState + condition.then);\n          break;\n        case 'object':\n          if (condition.optionalThen) {\n            setMessagePreview(prevState => prevState + condition.optionalThen);\n          }\n          condition.then.map((c, index) => {\n            messageHandler(c);\n            if (c.optionalText) {\n              setMessagePreview(prevState => prevState + c.optionalText);\n            }\n          });\n          break;\n      }\n    } else {\n      switch (typeof condition.else) {\n        case 'string':\n          setMessagePreview(prevState => prevState + condition.else);\n          break;\n        case 'object':\n          if (condition.optionalElse) {\n            setMessagePreview(prevState => prevState + condition.optionalElse);\n          }\n          condition.else.map((c, index) => {\n            messageHandler(c);\n            if (c.optionalText) {\n              setMessagePreview(prevState => prevState + c.optionalText);\n            }\n          });\n          break;\n      }\n    }\n  };\n  useMemo(() => {\n    setMessagePreview(data.topText);\n    data.conditions.map(condition => {\n      messageHandler(condition);\n      if (condition.optionalText) {\n        setMessagePreview(prevState => prevState + condition.optionalText);\n      }\n    });\n    setMessagePreview(prevState => prevState + data.bottomText);\n    setMessagePreview(prevState => {\n      return prevState.replace(/\\{([^{}]+)\\}/g, match => {\n        console.log(match.slice(1, -1));\n        if (varNames.hasOwnProperty(match.slice(1, -1))) {\n          return `${varNames[match.slice(1, -1)] !== null ? varNames[match.slice(1, -1)] : ''}`;\n        } else {\n          return 's';\n        }\n      });\n    });\n  }, [varNames]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.darkBG,\n      onClick: modalHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.centered,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.modal,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.wrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.modalHeader,\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"message template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: s.message,\n            children: messagePreview\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.wrapper,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: s.modalHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.text,\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"variables\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 39\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.closeIcon,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"material-symbols-outlined\",\n                onClick: modalHandler,\n                children: \"close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: s.vars__list,\n            children: arrVars.map((value, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: s.vars__list_item,\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: value\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: s.input_container,\n                onClick: () => {\n                  if (currentInput[0] !== value) setCurrentInput([value]);\n                },\n                children: /*#__PURE__*/_jsxDEV(TextareaAutosize, {\n                  onChange: event => {\n                    varsHandler(event, value.slice(1, value.length - 1));\n                    localStorage.setItem('cursor', event.target.selectionStart.toString());\n                  },\n                  onFocus: event => {\n                    if (currentInput[0] !== value) {\n                      setCurrentInput([value]);\n                    }\n                    event.target.selectionStart = localStorage.cursor ? +localStorage.cursor : 0;\n                  },\n                  onClick: event => localStorage.setItem('cursor', event.currentTarget.selectionStart.toString()),\n                  onKeyUp: event => {\n                    const newCursor = event.currentTarget.selectionStart;\n                    localStorage.setItem('cursor', newCursor.toString());\n                  },\n                  autoFocus: currentInput[0] === value,\n                  defaultValue: varNames[value.slice(1, value.length - 1)] || '',\n                  className: s.textArea,\n                  maxRows: 1,\n                  maxLength: 40\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 21\n              }, this)]\n            }, uuid4(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(PreviewModal, \"g8yoYo3dRfGRA8DM8Axd8o6Ewlg=\");\n_c = PreviewModal;\nexport default PreviewModal;\nvar _c;\n$RefreshReg$(_c, \"PreviewModal\");","map":{"version":3,"names":["React","useContext","useMemo","useState","s","arrVars","v4","uuid4","TextareaAutosize","CurrentInputContext","ConditionContext","jsxDEV","_jsxDEV","Fragment","_Fragment","debounceTimer","PreviewModal","modalHandler","_s","varNames","setVarNames","firstname","company","lastname","position","data","setData","currentInput","setCurrentInput","messagePreview","setMessagePreview","varsHandler","event","value","newText","target","clearTimeout","setTimeout","prevState","trim","messageHandler","condition","match","if","then","optionalThen","map","c","index","optionalText","else","optionalElse","topText","conditions","bottomText","replace","console","log","slice","hasOwnProperty","children","className","darkBG","onClick","fileName","_jsxFileName","lineNumber","columnNumber","centered","modal","wrapper","modalHeader","message","text","closeIcon","vars__list","vars__list_item","input_container","onChange","length","localStorage","setItem","selectionStart","toString","onFocus","cursor","currentTarget","onKeyUp","newCursor","autoFocus","defaultValue","textArea","maxRows","maxLength","_c","$RefreshReg$"],"sources":["/Users/romanloginov/Documents/GitHub/message-template-editor/src/components/previewModal/index.tsx"],"sourcesContent":["import React, {ChangeEvent, FC, useContext, useMemo, useState} from \"react\";\nimport s from './previewModal.module.css'\nimport {arrVars} from \"../../utils/consts\";\nimport {v4 as uuid4} from \"uuid\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport {CurrentInputContext} from \"../../contexts/currentInputContext\";\nimport {ConditionContextStateType, CurrentInputStateType, IfThenElse, variablesType} from \"../../utils/types\";\nimport {ConditionContext, da} from \"../../contexts/conditionContext\";\n\ninterface IPreviewModal {\n  modalHandler: () => void\n}\n\nlet debounceTimer: NodeJS.Timeout;\n\nconst PreviewModal: FC<IPreviewModal> = ({modalHandler}) => {\n\n  const [varNames, setVarNames] = useState<variablesType>({firstname: null, company: null, lastname: null, position: null} as variablesType)\n  const [data, setData] = useContext(ConditionContext) as ConditionContextStateType\n  const [currentInput, setCurrentInput] = useContext(CurrentInputContext) as CurrentInputStateType\n  const [messagePreview, setMessagePreview] = useState('')\n\n  const varsHandler = (event: ChangeEvent<HTMLTextAreaElement>, value: string) => {\n    const newText = event.target.value\n\n    clearTimeout(debounceTimer)\n\n    debounceTimer = setTimeout(() => {\n      setVarNames(prevState => ({...prevState, [value as keyof typeof varNames]: newText.trim()}))\n    }, 250)\n\n  }\n\n  const messageHandler = (condition: IfThenElse) => {\n    const match = condition.if.trim().match(/\\{(.*?)\\}/)\n\n    if(match && match[1] && varNames[match[1] as keyof typeof varNames]) {\n      switch (typeof condition.then) {\n        case 'string':\n          setMessagePreview(prevState => prevState + condition.then)\n          break\n        case 'object':\n          if(condition.optionalThen) {\n            setMessagePreview(prevState => prevState + condition.optionalThen)\n          }\n          condition.then.map((c, index) => {\n            messageHandler(c)\n            if(c.optionalText) {\n              setMessagePreview(prevState => prevState + c.optionalText)\n            }\n          })\n          break\n      }\n    } else {\n      switch (typeof condition.else) {\n        case 'string':\n          setMessagePreview(prevState => prevState + condition.else)\n          break\n        case 'object':\n          if(condition.optionalElse) {\n            setMessagePreview(prevState => prevState + condition.optionalElse)\n          }\n          condition.else.map((c, index) => {\n            messageHandler(c)\n            if(c.optionalText) {\n              setMessagePreview(prevState => prevState + c.optionalText)\n            }\n          })\n          break\n      }\n    }\n  }\n\n  useMemo(() => {\n\n    setMessagePreview(data.topText)\n\n    data.conditions.map((condition) => {\n      messageHandler(condition)\n      if(condition.optionalText) {\n        setMessagePreview(prevState => prevState + condition.optionalText)\n      }\n    })\n\n    setMessagePreview(prevState => prevState + data.bottomText)\n\n    setMessagePreview(prevState => {\n      return prevState.replace(/\\{([^{}]+)\\}/g, (match) => {\n        console.log(match.slice(1, -1))\n        if(varNames.hasOwnProperty(match.slice(1, -1))) {\n          return `${varNames[match.slice(1, -1) as keyof typeof varNames] !== null ? varNames[match.slice(1, -1) as keyof typeof varNames] : ''}`;\n        } else {\n          return 's'\n        }\n      })\n    })\n\n  }, [varNames])\n\n  return(\n    <>\n      <div className={s.darkBG} onClick={modalHandler}/>\n      <div className={s.centered}>\n        <div className={s.modal}>\n          <div className={s.wrapper}>\n            <div className={s.modalHeader}>\n              <p>message template</p>\n            </div>\n            <pre className={s.message}>\n              {messagePreview}\n            </pre>\n          </div>\n          <div className={s.wrapper}>\n            <div className={s.modalHeader}>\n              <div className={s.text}><p>variables</p></div>\n              <div className={s.closeIcon}>\n                <span\n                  className=\"material-symbols-outlined\"\n                  onClick={modalHandler}\n                >\n                close\n              </span>\n              </div>\n            </div>\n            <ul className={s.vars__list}>\n              {\n                arrVars.map((value, index) => (\n                  <li key={uuid4()} className={s.vars__list_item}>\n                    <p>{value}</p>\n                    <div\n                      className={s.input_container}\n                      onClick={() => {\n                        if(currentInput[0] !== value) setCurrentInput([value])\n                      }}\n                    >\n                      <TextareaAutosize\n                        onChange={(event) => {\n                          varsHandler(event, value.slice(1, value.length - 1))\n                          localStorage.setItem('cursor', event.target.selectionStart.toString())\n                        }}\n                        onFocus={(event) => {\n                          if(currentInput[0] !== value) {\n                            setCurrentInput([value])\n                          }\n                          event.target.selectionStart = localStorage.cursor ? +localStorage.cursor : 0\n                        }}\n                        onClick={(event) => localStorage.setItem('cursor', event.currentTarget.selectionStart.toString())}\n                        onKeyUp={(event) => {\n                          const newCursor = event.currentTarget.selectionStart\n                          localStorage.setItem('cursor', newCursor.toString())\n                        }}\n                        autoFocus={currentInput[0] === value}\n                        defaultValue={varNames[value.slice(1, value.length - 1) as keyof typeof varNames] || ''}\n                        className={s.textArea}\n                        maxRows={1}\n                        maxLength={40}\n                      />\n                    </div>\n                  </li>\n                ))\n              }\n            </ul>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default PreviewModal\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}