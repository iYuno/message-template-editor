{"ast":null,"code":"var _jsxFileName = \"/Users/romanloginov/Documents/GitHub/message-template-editor/src/components/textArea/index.tsx\",\n  _s = $RefreshSig$();\nimport { useContext, useRef, useState, useEffect } from \"react\";\nimport s from './textArea.module.css';\nimport { ConditionContext } from \"../../contexts/conditionContext\";\nimport { CurrentInputContext } from \"../../contexts/currentInputContext\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet debounceTimer;\nconst TextArea = ({\n  isRequired,\n  isCondition,\n  value,\n  path\n}) => {\n  _s();\n  const inputRef = useRef(null);\n  const divRef = useRef(null);\n  const [text, setText] = useState(value);\n  const [data, setData] = useContext(ConditionContext);\n  const [currentInput, setCurrentInput] = useContext(CurrentInputContext);\n  const [isCollapse, setIsCollapse] = useState(JSON.stringify(path) !== JSON.stringify(currentInput));\n  useEffect(() => {\n    setText(value);\n  }, [value]);\n  const changeStateHandler = (newPath, condition, newText) => {\n    if (newPath.length - 1) {\n      Object.entries(condition).forEach(([key, value], index) => {\n        if (key === newPath[0]) {\n          switch (typeof value) {\n            case 'string':\n              break;\n            case 'object':\n              if (Array.isArray(value)) {\n                changeStateHandler(newPath.slice(2), value[+newPath[1]], newText);\n              } else if (value) {\n                changeStateHandler(newPath.slice(1), value, newText);\n              }\n          }\n        }\n      });\n    } else {\n      condition[newPath[0]] = newText ? newText : '';\n    }\n    return condition;\n  };\n  const textHandler = event => {\n    let newText = event.target.value;\n    setText(newText);\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(() => {\n      const tempTemplate = JSON.parse(localStorage.tempTemplate);\n      if (!(path[0] === 'top' || path[0] === 'bottom')) {\n        setData(prevState => {\n          const newState = {\n            ...prevState,\n            conditions: [...prevState.conditions.slice(0, +path[0]), changeStateHandler(path.slice(1), prevState.conditions[+path[0]], newText), ...prevState.conditions.slice(+path[0] + 1)]\n          };\n          localStorage.setItem('tempTemplate', JSON.stringify(newState));\n          return newState;\n        });\n      } else {\n        switch (path[0]) {\n          case 'top':\n            setData(prevState => {\n              const newState = {\n                ...prevState,\n                topText: newText\n              };\n              localStorage.setItem('tempTemplate', JSON.stringify(newState));\n              return newState;\n            });\n            break;\n          case 'bottom':\n            setData(prevState => {\n              const newState = {\n                ...prevState,\n                bottomText: newText\n              };\n              localStorage.setItem('tempTemplate', JSON.stringify(newState));\n              return newState;\n            });\n            break;\n        }\n      }\n    }, 250);\n  };\n  const updateCondition = (newPath, condition) => {\n    if (newPath.length - 1) {\n      Object.entries(condition).forEach(([key, value], index) => {\n        if (key === newPath[0]) {\n          switch (typeof value) {\n            case 'string':\n              break;\n            case 'object':\n              if (Array.isArray(value)) {\n                updateCondition(newPath.slice(2), value[+newPath[1]]);\n              } else if (value) {\n                updateCondition(newPath.slice(1), value);\n              }\n          }\n        }\n      });\n    } else {\n      switch (newPath[0]) {\n        case 'optionalThen':\n          condition.then = [...condition.then, {\n            if: '',\n            optionalThen: null,\n            then: '',\n            optionalElse: null,\n            else: '',\n            optionalText: ''\n          }];\n          break;\n        case 'then':\n          condition.optionalThen = '';\n          condition.then = [{\n            if: '',\n            optionalThen: null,\n            then: '',\n            optionalElse: null,\n            else: '',\n            optionalText: ''\n          }];\n          break;\n        case 'optionalElse':\n          condition.else = [...condition.else, {\n            if: '',\n            optionalThen: null,\n            then: '',\n            optionalElse: null,\n            else: '',\n            optionalText: ''\n          }];\n          break;\n        case 'else':\n          condition.optionalElse = '';\n          condition.else = [{\n            if: '',\n            optionalThen: null,\n            then: '',\n            optionalElse: null,\n            else: '',\n            optionalText: ''\n          }];\n          break;\n      }\n    }\n    return condition;\n  };\n  const newConditionHandler = () => {\n    if (path[0] !== 'top') {\n      const newCondition = updateCondition(path.slice(1), data.conditions[+path[0]]);\n      setData(prevState => {\n        const newState = {\n          ...prevState,\n          conditions: [...prevState.conditions.slice(0, +path[0]), newCondition, ...prevState.conditions.slice(+path[0] + 1)]\n        };\n        localStorage.setItem('tempTemplate', JSON.stringify(newState));\n        return newState;\n      });\n    } else {\n      setData(prevState => {\n        const newState = {\n          ...prevState,\n          conditions: [...prevState.conditions, {\n            if: '',\n            optionalThen: null,\n            then: '',\n            optionalElse: null,\n            else: '',\n            optionalText: ''\n          }]\n        };\n        localStorage.setItem('tempTemplate', JSON.stringify(newState));\n        return newState;\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.container,\n    onClick: event => {\n      if (isCollapse) {\n        setIsCollapse(false);\n        setCurrentInput(prevState => path);\n      }\n    },\n    onBlur: () => {\n      setTimeout(() => {\n        setIsCollapse(true);\n      }, 100);\n    },\n    children: [/*#__PURE__*/_jsxDEV(TextareaAutosize, {\n      style: {\n        resize: \"none\"\n      },\n      maxLength: 300,\n      autoFocus: JSON.stringify(path) === JSON.stringify(currentInput),\n      onFocus: event => {\n        event.target.selectionStart = localStorage.cursor ? +localStorage.cursor : 0;\n      },\n      onClick: event => localStorage.setItem('cursor', event.currentTarget.selectionStart.toString()),\n      onKeyUp: event => {\n        const newCursor = event.currentTarget.selectionEnd;\n        localStorage.setItem('cursor', newCursor.toString());\n      },\n      onChange: textHandler,\n      value: text,\n      ref: inputRef,\n      className: s.inputArea,\n      placeholder: `${isRequired ? 'Require' : 'Optional text'}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), isCondition && !isCollapse && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: path.toString(),\n      className: s.detailsInput,\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: s.divider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.condition,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.addCondition,\n          type: 'button',\n          onClick: newConditionHandler,\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"if | then | else\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(TextArea, \"sx3TdROu7TAC8ThV0RrR2MO0pe0=\");\n_c = TextArea;\nexport default TextArea;\nvar _c;\n$RefreshReg$(_c, \"TextArea\");","map":{"version":3,"names":["useContext","useRef","useState","useEffect","s","ConditionContext","CurrentInputContext","TextareaAutosize","jsxDEV","_jsxDEV","debounceTimer","TextArea","isRequired","isCondition","value","path","_s","inputRef","divRef","text","setText","data","setData","currentInput","setCurrentInput","isCollapse","setIsCollapse","JSON","stringify","changeStateHandler","newPath","condition","newText","length","Object","entries","forEach","key","index","Array","isArray","slice","textHandler","event","target","clearTimeout","setTimeout","tempTemplate","parse","localStorage","prevState","newState","conditions","setItem","topText","bottomText","updateCondition","then","if","optionalThen","optionalElse","else","optionalText","newConditionHandler","newCondition","className","container","onClick","onBlur","children","style","resize","maxLength","autoFocus","onFocus","selectionStart","cursor","currentTarget","toString","onKeyUp","newCursor","selectionEnd","onChange","ref","inputArea","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","id","detailsInput","divider","addCondition","type","_c","$RefreshReg$"],"sources":["/Users/romanloginov/Documents/GitHub/message-template-editor/src/components/textArea/index.tsx"],"sourcesContent":["import {ChangeEvent, FC, useContext, useRef, useState, MouseEvent, memo, useEffect} from \"react\";\nimport s from './textArea.module.css'\nimport conditionContext, {ConditionContext, da} from \"../../contexts/conditionContext\";\nimport {ConditionContextStateType, CurrentInputStateType, IfThenElse, templateType} from \"../../utils/types\";\nimport condition from \"../condition\";\nimport {CurrentInputContext} from \"../../contexts/currentInputContext\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport {v4 as uuid4} from \"uuid\";\n\ninterface ITextArea {\n  isRequired: boolean,\n  isCondition: boolean,\n  value: string,\n  path: string[],\n}\n\nlet debounceTimer: NodeJS.Timeout;\n\nconst TextArea: FC<ITextArea> = ({isRequired, isCondition, value, path}) => {\n\n  const inputRef = useRef<HTMLTextAreaElement>(null);\n  const divRef = useRef(null)\n  const [text, setText] = useState<string>(value);\n  const [data, setData] = useContext(ConditionContext) as ConditionContextStateType\n  const [currentInput, setCurrentInput] = useContext(CurrentInputContext) as CurrentInputStateType\n  const [isCollapse, setIsCollapse] = useState<boolean>(JSON.stringify(path) !== JSON.stringify(currentInput))\n\n  useEffect(() => {\n    setText(value)\n  }, [value])\n\n\n  const changeStateHandler = (newPath: string[], condition: IfThenElse, newText?: string) => {\n    if(newPath.length - 1) {\n      Object.entries(condition).forEach(([key, value], index) => {\n        if(key === newPath[0]) {\n          switch (typeof value) {\n            case 'string':\n              break\n            case 'object':\n              if(Array.isArray(value)) {\n                changeStateHandler(newPath.slice(2), value[+newPath[1]], newText)\n              } else if(value) {\n                changeStateHandler(newPath.slice(1), value, newText)\n              }\n          }\n        }\n      })\n    } else {\n        condition[newPath[0] as keyof typeof condition] = newText ? newText : ''\n    }\n    return condition\n  }\n  const textHandler = (event: ChangeEvent<HTMLTextAreaElement>) => {\n    let newText = event.target.value\n    setText(newText)\n\n    clearTimeout(debounceTimer)\n\n    debounceTimer = setTimeout(() => {\n      const tempTemplate = JSON.parse(localStorage.tempTemplate) as templateType\n      if(!(path[0] === 'top' || path[0] === 'bottom')) {\n        setData(prevState => {\n          const newState = {\n            ...prevState,\n            conditions: [...prevState.conditions.slice(0, +path[0]), changeStateHandler(path.slice(1), prevState.conditions[+path[0]], newText), ...prevState.conditions.slice(+path[0] + 1)]\n          }\n          localStorage.setItem('tempTemplate', JSON.stringify(newState))\n          return newState\n        })\n      } else {\n        switch (path[0]) {\n          case 'top':\n            setData(prevState => {\n              const newState = {...prevState, topText: newText} as templateType\n              localStorage.setItem('tempTemplate', JSON.stringify(newState))\n              return newState\n            })\n            break\n          case 'bottom':\n            setData(prevState => {\n              const newState = {...prevState, bottomText: newText} as templateType\n              localStorage.setItem('tempTemplate', JSON.stringify(newState))\n              return newState\n            })\n            break\n        }\n      }\n    }, 250)\n  }\n\n  const updateCondition = (newPath: string[], condition: IfThenElse) => {\n    if(newPath.length - 1) {\n      Object.entries(condition).forEach(([key, value], index) => {\n        if(key === newPath[0]) {\n          switch (typeof value) {\n            case 'string':\n              break\n            case 'object':\n              if(Array.isArray(value)) {\n                updateCondition(newPath.slice(2), value[+newPath[1]])\n              } else if(value) {\n                updateCondition(newPath.slice(1), value)\n              }\n          }\n        }\n      })\n    } else {\n      switch (newPath[0]) {\n        case 'optionalThen':\n          condition.then = [...condition.then as IfThenElse[], {if: '', optionalThen: null, then: '', optionalElse: null, else: '', optionalText: ''}] as IfThenElse[];\n          break\n        case 'then':\n          condition.optionalThen = ''\n          condition.then = [{if: '', optionalThen: null, then: '', optionalElse: null, else: '', optionalText: ''}] as IfThenElse[];\n          break\n        case 'optionalElse':\n          condition.else = [...condition.else as IfThenElse[], {if: '', optionalThen: null, then: '', optionalElse: null, else: '', optionalText: ''}] as IfThenElse[];\n          break\n        case 'else':\n          condition.optionalElse = ''\n          condition.else = [{if: '', optionalThen: null, then: '', optionalElse: null, else: '', optionalText: ''}] as IfThenElse[];\n          break\n      }\n    }\n    return condition as IfThenElse\n  }\n\n  const newConditionHandler = () => {\n    if(path[0] !== 'top') {\n      const newCondition = updateCondition(path.slice(1), data.conditions[+path[0]])\n      setData(prevState => {\n        const newState = {\n          ...prevState,\n          conditions: [...prevState.conditions.slice(0, +path[0]), newCondition, ...prevState.conditions.slice(+path[0] + 1)]\n        }\n\n        localStorage.setItem('tempTemplate', JSON.stringify(newState))\n        return newState\n      })\n    } else {\n      setData(prevState => {\n        const newState = {\n        ...prevState,\n          conditions: [...prevState.conditions, {if: '', optionalThen: null, then: '', optionalElse: null, else: '', optionalText: ''}]\n        }\n\n        localStorage.setItem('tempTemplate', JSON.stringify(newState))\n        return newState\n      })\n    }\n\n  }\n\n  return(\n    <div\n      className={s.container}\n      onClick={(event) => {\n        if(isCollapse) {\n          setIsCollapse(false)\n          setCurrentInput(prevState => path)\n        }\n      }}\n      onBlur={() => {\n        setTimeout(() => {\n          setIsCollapse(true)\n        }, 100)\n      }}\n    >\n      <TextareaAutosize\n        style={{resize: \"none\"}}\n        maxLength={300}\n        autoFocus={JSON.stringify(path) === JSON.stringify(currentInput)}\n        onFocus={(event) => {\n          event.target.selectionStart = localStorage.cursor ? +localStorage.cursor : 0\n        }}\n        onClick={(event) => localStorage.setItem('cursor', event.currentTarget.selectionStart.toString())}\n        onKeyUp={(event) => {\n          const newCursor = event.currentTarget.selectionEnd\n          localStorage.setItem('cursor', newCursor.toString())\n        }}\n        onChange={textHandler}\n        value={text}\n        ref={inputRef}\n        className={s.inputArea}\n        placeholder={`${isRequired ? 'Require' : 'Optional text'}`}\n      />\n      {\n        isCondition && !isCollapse &&\n          <div\n            id={path.toString()}\n            className={s.detailsInput}\n          >\n            <span className={s.divider}></span>\n            <div className={s.condition}>\n              <button\n                  className={s.addCondition}\n                  type={'button'}\n                  onClick={newConditionHandler}\n              >\n                <p>if | then | else</p>\n              </button>\n            </div>\n          </div>\n      }\n    </div>\n  )\n}\n\nexport default TextArea\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}